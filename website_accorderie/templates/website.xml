<?xml version="1.0" encoding="utf-8" ?>
<!-- License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl). -->
<odoo>
    <template id="accorderie_offre_service_unit_liste_offre_et_demande_service" name="Offre Service">
        <t name="About us" t-name="website.aboutus">
            <t t-call="website.layout">
                <div id="wrap">
                    <div class="debug_debug">
                        Lien maquette :
                        <a
                            href="https://marvelapp.com/prototype/1773h559/screen/86417802"
                        >https://marvelapp.com/prototype/1773h559/screen/86417802</a>
                        <br />
                        Son offre : <a
                            href="https://marvelapp.com/prototype/1773h559/screen/86371559"
                        >https://marvelapp.com/prototype/1773h559/screen/86371559</a>
                        <br />
                        Mobile : <a
                            href="https://marvelapp.com/prototype/6dbaaf8/screen/84804853"
                        >https://marvelapp.com/prototype/6dbaaf8/screen/84804853</a>
                    </div>
                    <section class="s_back ng-cloak" ng-if="offre_service_info.membre_id === personal.id">
                        <a href="/monprofil/mesannonces">
                            <i class="fa fa-arrow-left text-primary" />
                            Voir toutes mes annonces publiées
                        </a>
                        <div class="actions">
                            <div class="debug_unimplemented" style="cursor:pointer">
                                <i class="fa fa-pencil text-primary icon_padding_right" />
                            Modifier mon offre de service
                            </div>
                            <divider class="debug_unimplemented" />
                            <div ng-click="supprimer_offre_service(offre_service_info.id)" style="cursor:pointer">
                                <i class="fa fa-trash text-primary icon_padding_right" />
                            Supprimer
                            </div>
                            <divider />
                            <div>
                                <label class="o_switch o_switch_danger" style="display:inline" for="publier_offre_id">
                                    <input
                                        type="checkbox"
                                        id="publier_offre_id"
                                        ng-model="offre_service_info.website_published"
                                        ng-change="change_publication_offre_service(offre_service_info.id, offre_service_info.website_published)"
                                    />
                                    <span />
                                    <span
                                        class="css_publish"
                                        ng-if="!offre_service_info.website_published"
                                    >Dépublier l'offre</span>
                                    <span
                                        class="css_unpublish"
                                        ng-if="offre_service_info.website_published"
                                    >Publier l'offre</span>
                                </label>
                            </div>
                        </div>
                    </section>
                    <div class="oe_structure">
                        <section class="pt32 pb32" t-if="not accorderie_offre_service_id">
                            <div class="container">
                                <div class="row s_nb_column_fixed">
                                    <div class="col-lg-12 s_title pt16 pb16" style="text-align: center;">
                                        <h1 class="s_title_default">
                                            <font style="font-size: 62px;">Offre de service non existante</font>
                                        </h1>
                                    </div>
                                </div>
                            </div>
                        </section>
                        <section
                            class="s_event_banner oe_img_bg oe_custom_bg"
                            style="background-image: url(&quot;/web/image/website_accorderie.ir_attachment_eric_prouzet_z62b9jiltgm_unsplash_jpg/eric-prouzet-Z62b9jIltGM-unsplash.jpg&quot;);"
                        >

                            <div class="event_banner_action bg-primary">
                                <div class="btn btn-primary" ng-if="is_share_enable()" ng-click="share_link()">
                                    <i class="fa fa-share-alt icon_padding_right" />
                                    Partager
                                </div>
                                <div class="divider" ng-if="is_share_enable()" />
                                <div class="btn btn-primary" ng-click="show_and_generate_qrcode()">
                                    <i class="fa fa-qrcode icon_padding_right" />
                                    Code QR
                                </div>
                                <div class="divider" />
                                <div
                                    class="btn btn-primary"
                                    t-attf-ng-click="add_to_my_favorite_field_id('accorderie.offre.service', {{accorderie_offre_service_id.id}})"
                                >
                                    <i
                                        class="fa icon_padding_right"
                                        ng-class="{'fa-heart': offre_service_info.is_favorite, 'fa-heart-o': !offre_service_info.is_favorite}"
                                    />
                                    <span ng-show="!offre_service_info.is_favorite">Ajouter à mes favoris</span>
                                    <span ng-show="offre_service_info.is_favorite">Retirer de mes favoris</span>
                                </div>
                            </div>
                        </section>

                        <section class="event_head">
                            <div class="event_info info-1">
                                <h1 t-field="accorderie_offre_service_id.titre" />
                                <div class="infos">
                                    <div class="distance">
                                        <i class="fa fa-map-marker text-primary icon_padding_right" />
                                        <t t-if="str_distance">&#192; <t t-raw="str_distance" /> de votre domicile</t>
                                    </div>
                                    <div class="adresse">
                                        <i class="fa fa-home text-primary icon_padding_right" />
                                        <t t-esc="accorderie_offre_service_id.membre.adresse" />
                                    </div>
                                    <div class="pubdate">
                                        <i class="fa fa-clock-o text-primary icon_padding_right" />
                                        <t t-esc="str_diff_time" />
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section class="s_evenement pt80 pb160" t-if="accorderie_offre_service_id">
                            <div class="event_container">
                                <div class="informations_container">
                                    <div class="event_info info-2">
                                        <div class="description" t-if="accorderie_offre_service_id.description">
                                            <h2>Description</h2>
                                            <t t-raw="accorderie_offre_service_id.description" />
                                        </div>
                                        <div class="info" t-if="accorderie_offre_service_id.quoi_apporter">
                                            <h2>Quoi apporter</h2>
                                            <t t-raw="accorderie_offre_service_id.quoi_apporter" />
                                        </div>
                                        <div
                                            class="conditions debug_unimplemented"
                                            t-if="accorderie_offre_service_id.condition"
                                        >
                                            <h2>Conditions</h2>
                                            <t t-raw="accorderie_offre_service_id.condition" />
                                        </div>
                                        <div
                                            class="deplacement debug_unimplemented"
                                            t-if="accorderie_offre_service_id.deplacement"
                                        >
                                            <h2>D&#233;placement</h2>
                                            <t t-raw="accorderie_offre_service_id.deplacement" />
                                        </div>
                                        <div
                                            class="tarif debug_unimplemented"
                                            t-if="accorderie_offre_service_id.entente_tarifiaire"
                                        >
                                            <h2>Entente tarifiaire</h2>
                                            <t t-raw="accorderie_offre_service_id.entente_tarifiaire" />
                                        </div>
                                        <div class="dispo debug_unimplemented">
                                            <h2>Disponilibités</h2>
                                            <div class="dates_container">
                                                <p>LUNDI</p><p>08H00 - 19H00</p>
                                                <p>MARDI</p><p>08H00 - 19H00</p>
                                                <p>MERCREDI</p><p>08H00 - 19H00</p>
                                                <p>JEUDI</p><p>08H00 - 19H00</p>
                                                <p>VENDREDI</p><p>08H00 - 19H00</p>
                                                <p>SAMEDI</p><p>08H00 - 19H00</p>
                                                <p>DIMANCHE</p><p>08H00 - 19H00</p>
                                            </div>
                                        </div>
                                        <div class="signaler debug_unimplemented">
                                            <p>
                                                <i class="fa fa-flag-o" />
                                                &amp;nbsp <a href=""><u>Signaler cette annonce</u></a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="right_cards_container">
                                    <div class="card info-3" ng-if="offre_service_info.membre_id !== personal.id">
                                        <h2>Choisir une date</h2>
                                        {{ load_date() }}
                                        <div
                                            class="input-group date"
                                            data-target-input="nearest"
                                            t-attf-id="date_echange_id"
                                            inline-date="true"
                                            side-by-side="true"
                                            date-format-tool="date"
                                            date-min-today="true"
                                            date-max-year="true"
                                        />
                                        <div>
                                            <button
                                                class="btn btn-primary text-gamma"
                                                ng-click="demander_un_service_sur_une_offre()"
                                            >Recevoir un service de {{offre_service_info.membre.full_name}}
                                            </button>
                                        </div>
                                    </div>
                                    <div
                                        class="card info-4"
                                        t-if="accorderie_offre_service_id.membre"
                                        ng-include="'/accorderie/template/votre_contact_full'"
                                    />
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </t>
        </t>
    </template>
    <template id="accorderie_demande_service_unit_liste_offre_et_demande_service" name="Demande Service">
        <t name="About us" t-name="website.aboutus">
            <t t-call="website.layout">
                <div id="wrap">
                    <section class="s_back ng-cloak" ng-if="demande_service_info.membre_id === personal.id">
                        <a href="/monprofil/mesannonces">
                            <i class="fa fa-arrow-left text-primary" />
                            Voir toutes mes annonces publiées
                        </a>
                        <div class="actions">
                            <div class="debug_unimplemented" style="cursor:pointer">
                                <i class="fa fa-pencil text-primary icon_padding_right" />
                            Modifier ma demande de service
                            </div>
                            <divider class="debug_unimplemented" />
                            <div ng-click="supprimer_demande_service(demande_service_info.id)" style="cursor:pointer">
                                <i class="fa fa-trash text-primary icon_padding_right" />
                            Supprimer
                            </div>
                            <divider />
                            <div>
                                <label class="o_switch o_switch_danger" style="display:inline" for="publier_demande_id">
                                    <input
                                        type="checkbox"
                                        id="publier_demande_id"
                                        ng-model="demande_service_info.website_published"
                                        ng-change="change_publication_demande_service(demande_service_info.id, demande_service_info.website_published)"
                                    />
                                    <span />
                                    <span
                                        class="css_publish"
                                        ng-if="!demande_service_info.website_published"
                                    >Dépublier la demande</span>
                                    <span
                                        class="css_unpublish"
                                        ng-if="demande_service_info.website_published"
                                    >Publier la demande</span>
                                </label>
                            </div>
                        </div>
                    </section>
                    <div class="oe_structure">
                        <section class="pt32 pb32" t-if="not accorderie_demande_service_id">
                            <div class="container">
                                <div class="row s_nb_column_fixed">
                                    <div class="col-lg-12 s_title pt16 pb16" style="text-align: center;">
                                        <h1 class="s_title_default">
                                            <font style="font-size: 62px;">Demande de service non existante</font>
                                        </h1>
                                    </div>
                                </div>
                            </div>
                        </section>
                        <section
                            class="s_event_banner oe_img_bg oe_custom_bg"
                            style="background-image: url(&quot;/web/image/website_accorderie.ir_attachment_eric_prouzet_z62b9jiltgm_unsplash_jpg/eric-prouzet-Z62b9jIltGM-unsplash.jpg&quot;);"
                        >

                            <div class="event_banner_action bg-primary">
                                <div class="btn btn-primary" ng-if="is_share_enable()" ng-click="share_link()">
                                    <i class="fa fa-share-alt icon_padding_right" />
                                    Partager
                                </div>
                                <div class="divider" ng-if="is_share_enable()" />
                                <div class="btn btn-primary" ng-click="show_and_generate_qrcode()">
                                    <i class="fa fa-qrcode icon_padding_right" />
                                    Code QR
                                </div>
                                <div class="divider" />
                                <div
                                    class="btn btn-primary"
                                    t-attf-ng-click="add_to_my_favorite_field_id('accorderie.demande.service', {{accorderie_demande_service_id.id}})"
                                >
                                    <i
                                        class="fa icon_padding_right"
                                        ng-class="{'fa-heart': demande_service_info.is_favorite, 'fa-heart-o': !demande_service_info.is_favorite}"
                                    />
                                    <span ng-show="!demande_service_info.is_favorite">Ajouter à mes favoris</span>
                                    <span ng-show="demande_service_info.is_favorite">Retirer de mes favoris</span>
                                </div>
                            </div>
                        </section>

                        <section class="event_head">
                            <div class="event_info info-1">
                                <h1 t-field="accorderie_demande_service_id.titre" />
                                <div class="infos">
                                    <div class="distance">
                                        <i class="fa fa-map-marker text-primary icon_padding_right" />
                                        <t t-if="str_distance">&#192; <t t-raw="str_distance" /> de votre domicile</t>
                                    </div>
                                    <div class="adresse">
                                        <i class="fa fa-home text-primary icon_padding_right" />
                                        <t t-esc="accorderie_demande_service_id.membre.adresse" />
                                    </div>
                                    <div class="pubdate">
                                        <i class="fa fa-clock-o text-primary icon_padding_right" />
                                        <t t-esc="str_diff_time" />
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section class="s_evenement pt80 pb160" t-if="accorderie_demande_service_id">
                            <div class="event_container">
                                <div class="informations_container">
                                    <div class="event_info info-2">
                                        <div class="description" t-if="accorderie_demande_service_id.description">
                                            <h2>Description</h2>
                                            <t t-raw="accorderie_demande_service_id.description" />
                                        </div>
<!--                                        <div class="info" t-if="accorderie_demande_service_id.quoi_apporter">-->
<!--                                            <h2>Quoi apporter</h2>-->
<!--                                            <t t-raw="accorderie_demande_service_id.quoi_apporter" />-->
<!--                                        </div>-->
<!--                                        <div-->
<!--                                            class="conditions debug_unimplemented"-->
<!--                                            t-if="accorderie_demande_service_id.condition"-->
<!--                                        >-->
<!--                                            <h2>Conditions</h2>-->
<!--                                            <t t-raw="accorderie_demande_service_id.condition" />-->
<!--                                        </div>-->
<!--                                        <div-->
<!--                                            class="deplacement debug_unimplemented"-->
<!--                                            t-if="accorderie_demande_service_id.deplacement"-->
<!--                                        >-->
<!--                                            <h2>D&#233;placement</h2>-->
<!--                                            <t t-raw="accorderie_demande_service_id.deplacement" />-->
<!--                                        </div>-->
<!--                                        <div-->
<!--                                            class="tarif debug_unimplemented"-->
<!--                                            t-if="accorderie_demande_service_id.entente_tarifiaire"-->
<!--                                        >-->
<!--                                            <h2>Entente tarifiaire</h2>-->
<!--                                            <t t-raw="accorderie_demande_service_id.entente_tarifiaire" />-->
<!--                                        </div>-->
                                        <div class="dispo debug_unimplemented">
                                            <h2>Disponilibités</h2>
                                            <div class="dates_container">
                                                <p>LUNDI</p><p>08H00 - 19H00</p>
                                                <p>MARDI</p><p>08H00 - 19H00</p>
                                                <p>MERCREDI</p><p>08H00 - 19H00</p>
                                                <p>JEUDI</p><p>08H00 - 19H00</p>
                                                <p>VENDREDI</p><p>08H00 - 19H00</p>
                                                <p>SAMEDI</p><p>08H00 - 19H00</p>
                                                <p>DIMANCHE</p><p>08H00 - 19H00</p>
                                            </div>
                                        </div>
                                        <div class="signaler debug_unimplemented">
                                            <p>
                                                <i class="fa fa-flag-o" />
                                                &amp;nbsp <a href=""><u>Signaler cette annonce</u></a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="right_cards_container" t-if="accorderie_demande_service_id">
                                    <div class="card info-3" ng-if="demande_service_info.membre_id !== personal.id">
                                        <h2>Choisir une date</h2>
                                        {{ load_date() }}
                                        <div
                                            class="input-group date"
                                            data-target-input="nearest"
                                            t-attf-id="date_echange_id"
                                            inline-date="true"
                                            side-by-side="true"
                                            date-format-tool="date"
                                            date-min-today="true"
                                            date-max-year="true"
                                        />
                                        <div>
                                            <button
                                                class="btn btn-primary text-gamma"
                                                ng-click="offrir_un_service_sur_une_demande()"
                                            >Offrir un service à {{demande_service_info.membre.full_name}}
                                            </button>
                                        </div>
                                    </div>
                                    <div
                                        class="card info-4"
                                        t-if="accorderie_demande_service_id.membre"
                                        ng-include="'/accorderie/template/votre_contact_full'"
                                    />
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </t>
        </t>
    </template>
    <template
        id="accorderie_offre_service_and_accorderie_demande_service_list_liste_offre_et_demande_service"
        name="Offre Service Accorderie Offre Service And Demande Service Accorderie Demande Service List"
    >
        <t t-ignore="true">
            <div class="container_lists">
                <div class="row activites_list col-lg-6">
                    <div class="list_title s_title">
                        <div class="title">
                            <h1>Offres r&#233;centes</h1>
                            <a
                                t-if="offre_services_count"
                                href="/offresservice"
                                style="font-size:1.25rem;"
                            >Voir Tout (+<t t-raw="offre_services_count" />)</a>
                        </div>
                    </div>
                    <div t-if="offre_services">
                        <div t-foreach="offre_services" t-as="offre_service">
                            <a
                                class="activite btn"
                                t-if="offre_service"
                                t-att-href="'/accorderie/accorderie_offre_service/%d' % offre_service.id"
                            >
                                <img
                                    t-if="lst_icon_offre_service[offre_service_index]"
                                    t-att-src="image_data_uri(lst_icon_offre_service[offre_service_index])"
                                    alt="icon"
                                    class="activite_img img-fluid"
                                />
                                <span
                                    t-if="not lst_icon_offre_service[offre_service_index]"
                                    class="activite_img fa fa-calendar-plus-o bg-epsilon text-center"
                                />
                                <div class="infos">
                                    <div
                                        class="activite_title"
                                        t-if="offre_service.titre"
                                        t-field="offre_service.titre"
                                    />
                                    <div class="activite_title" t-if="not offre_service.titre">
                                        Titre vide...
                                        <!-- TODO mettre un titre par défaut en lien avec la catégorie -->
                                    </div>
                                    <div
                                        class="activite_auteur"
                                        t-if="offre_service.membre"
                                        t-field="offre_service.membre"
                                    />
                                    <span
                                        t-if="len(lst_distance_offre_service) >= offre_service_index"
                                        class="activite_distance"
                                        t-raw="lst_distance_offre_service[offre_service_index]"
                                    />
                                </div>
                                <div class="infos right">
                                    <div
                                        t-if="len(lst_time_offre_service) >= offre_service_index"
                                        t-raw="lst_time_offre_service[offre_service_index]"
                                    />
                                    <!--<i class="fa fa-heart-o text-epsilon" />-->
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="row" t-if="not offre_services">
                        Aucune offre de services sont disponible pour cette accorderie.
                    </div>
                </div>
                <div class="row activites_list col-lg-6">
                    <div class="list_title s_title">
                        <div class="title">
                            <h1>Demandes r&#233;centes</h1>
                            <a
                                t-if="demande_services_count"
                                href="/demandesservice"
                                style="font-size:1.25rem;"
                            >Voir Tout (+<t t-raw="demande_services_count" />)</a>
                        </div>
                    </div>
                    <div t-if="demande_services">
                        <div t-foreach="demande_services" t-as="demande_service">
                            <a
                                class="activite btn"
                                t-if="demande_service"
                                t-att-href="'/accorderie/accorderie_demande_service/%d' % demande_service.id"
                            >
                                <img
                                    t-if="lst_icon_demande_service[demande_service_index]"
                                    t-att-src="image_data_uri(lst_icon_demande_service[demande_service_index])"
                                    alt="icon"
                                    class="activite_img img-fluid"
                                />
                                <span
                                    t-if="not lst_icon_demande_service[demande_service_index]"
                                    class="activite_img fa fa-calendar-plus-o bg-epsilon text-center"
                                    style=""
                                />
                                <div class="infos">
                                    <h4
                                        class="activite_title"
                                        t-if="demande_service.titre"
                                        t-field="demande_service.titre"
                                    />
                                    <h4 class="activite_title" t-if="not demande_service.titre">
                                        Titre vide...
                                    </h4>
                                    <h5
                                        class="activite_auteur"
                                        t-if="demande_service.membre"
                                        t-field="demande_service.membre"
                                    />
                                    <span
                                        t-if="len(lst_distance_demande_service) >= demande_service_index"
                                        class="activite_distance"
                                        t-raw="lst_distance_demande_service[demande_service_index]"
                                    />
                                </div>
                                <div class="infos right">
                                    <div
                                        t-if="len(lst_time_demande_service) >= demande_service_index"
                                        t-raw="lst_time_demande_service[demande_service_index]"
                                    />
                                    <!--<h2 class="fa fa-heart-o text-epsilon" />-->
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="row" t-if="not demande_services">
                        Aucune demande de services sont disponible pour cette accorderie.
                    </div>
                </div>
            </div>
        </t>
    </template>
    <template id="accorderie_type_service_categorie_unit_liste_type_service_categorie" name="Type Service Categorie">
        <t t-call="website.layout">
            <div id="wrap">
                <div class="oe_structure">
                    <section class="pt32 pb32" t-if="not accorderie_type_service_categorie_id">
                        <div class="container">
                            <div class="row s_nb_column_fixed">
                                <div class="col-lg-12 s_title pt16 pb16" style="text-align: center;">
                                    <h1 class="s_title_default">
                                        <font style="font-size: 62px;">
                                            accorderie_type_service_categorie_id non existante
                                        </font>
                                    </h1>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section
                        t-if="accorderie_type_service_categorie_id"
                        class="s_cover parallax s_parallax_is_fixed bg-black-50 pt96 pb96 s_parallax_no_overflow_hidden"
                        data-scroll-background-ratio="1"
                        style="background-image: none;"
                    >
                        <span
                            class="s_parallax_bg oe_img_bg oe_custom_bg"
                            style="background-image: url('/web/image/website.s_cover_default_image'); background-position: 50% 0;"
                        />
                        <div class="container">
                            <div class="row s_nb_column_fixed">
                                <div class="col-lg-12 s_title" data-name="Title">
                                    <h1
                                        class="s_title_thin"
                                        style="font-size: 62px; text-align: center;"
                                        t-field="accorderie_type_service_categorie_id.nom"
                                        t-if="accorderie_type_service_categorie_id.nom"
                                    />
                                    <h1
                                        class="s_title_thin"
                                        style="font-size: 62px; text-align: center;"
                                        t-if="not accorderie_type_service_categorie_id.nom"
                                    >
                                        EMPTY
                                    </h1>
                                </div>
                                <div
                                    class="col-lg-12 s_text pt16 pb16"
                                    data-name="Text"
                                    t-if="accorderie_type_service_categorie_id.active"
                                >
                                    <p
                                        class="lead o_default_snippet_text"
                                        style="text-align: center;"
                                        t-field="accorderie_type_service_categorie_id.active"
                                    />
                                </div>
                                <div
                                    class="col-lg-12 s_text pt16 pb16"
                                    data-name="Text"
                                    t-if="accorderie_type_service_categorie_id.approuve"
                                >
                                    <p
                                        class="lead o_default_snippet_text"
                                        style="text-align: center;"
                                        t-field="accorderie_type_service_categorie_id.approuve"
                                    />
                                </div>
                                <div
                                    class="col-lg-12 s_text pt16 pb16"
                                    data-name="Text"
                                    t-if="accorderie_type_service_categorie_id.icon"
                                >
                                    <img
                                        t-if="accorderie_type_service_categorie_id.icon"
                                        t-att-src="image_data_uri(accorderie_type_service_categorie_id.icon)"
                                        alt="icon"
                                        class="img img-fluid d-block mx-auto"
                                    />
                                </div>
                                <div
                                    class="col-lg-12 s_text pt16 pb16"
                                    data-name="Text"
                                    t-if="accorderie_type_service_categorie_id.nocategorie"
                                >
                                    <p
                                        class="lead o_default_snippet_text"
                                        style="text-align: center;"
                                        t-field="accorderie_type_service_categorie_id.nocategorie"
                                    />
                                </div>
                                <div
                                    class="col-lg-12 s_text pt16 pb16"
                                    data-name="Text"
                                    t-if="accorderie_type_service_categorie_id.type_service_sous_categorie"
                                >
                                    <p
                                        class="lead o_default_snippet_text"
                                        style="text-align: center;"
                                        t-field="accorderie_type_service_categorie_id.type_service_sous_categorie"
                                    />
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </t>
    </template>
    <template
        id="accorderie_type_service_categorie_list_liste_type_service_categorie"
        name="Type Service Categorie List"
    >
        <t t-ignore="true">
            <div t-if="not type_service_categories" class="debug_unimplemented">
                <div class="row">Aucune catégorie de service est disponible.</div>
            </div>
            <div t-if="type_service_categories" class="debug_unimplemented">
                <div class="list_title s_title">
                    <div class="title">
                        <h1>Explorer les offres</h1>
                        <a href="/offresservice" style="font-size:1.25rem;">
                            Voir Tout (+500)
                        </a>
                    </div>
                </div>
                <div class="offres_list">
                    <div class="offre_box btn" t-foreach="type_service_categories" t-as="type_service_categorie">
                        <a
                            t-if="type_service_categorie"
                            t-att-href="'/accorderie/type_service_categorie/%d' % type_service_categorie.id"
                        >
                            <img
                                t-if="type_service_categorie.icon"
                                t-att-src="image_data_uri(type_service_categorie.icon)"
                                alt="icon"
                                class="offre_img"
                            />
                            <div
                                class="offre_desc"
                                t-if="type_service_categorie.nom"
                                t-raw="type_service_categorie._get_html_nom()"
                            />
                        </a>
                    </div>
                </div>
            </div>
        </t>
    </template>
    <template id="accorderie_type_service_categorie_list_publication" name="Publication List">
        <t t-ignore="true">
            <t name="About us" t-name="website.aboutus">
                <t t-call="website.layout">
                    <div id="wrap" ng-controller="ParticiperController" class="ng-cloak">
                        <div class="oe_structure">
                            <div class="debug_debug">
                                    Lien maquette : <a
                                    ng-if="_.isEmpty(state.maquette_link)"
                                    href="https://marvelapp.com/prototype/1773h559/screen/86371515"
                                >https://marvelapp.com/prototype/1773h559/screen/86371515</a><a
                                    ng-if="!_.isEmpty(state.maquette_link)"
                                    ng-href="{{state.maquette_link}}"
                                >{{state.maquette_link}}</a><br />
                                Lien mobile : <a
                                    ng-if="_.isEmpty(state.maquette_link)"
                                    href="https://marvelapp.com/prototype/6dbaaf8/screen/84804882"
                                >https://marvelapp.com/prototype/6dbaaf8/screen/84804882</a><br />
                                Debug form: <span>{{form || json}}</span>
                                <br />
                                Debug state: <span>{{state || json}}</span>
                                <br />
                            </div>
                            <section class="s_buttons_form">
                                <div class="txt_question" ng-if="!state.disable_question">
                                    <div><span
                                            ng-show="state.show_breadcrumb"
                                            ng-repeat="link in lst_label_breadcrumb"
                                            ng-click="change_breadcrumb_index(link.index)"
                                            class="cursor-pointer"
                                            style="color:white"
                                            ng-if="!_.isEmpty(link.html)"
                                            ng-bind-html="link.html | unsafe"
                                        />
                                        <h1 ng-show="state.message">{{state.message}}</h1>
                                    </div>
                                    <div ng-show="!_.isEmpty(error)">
                                        <br />
                                        <span style="color:red;">Erreur : {{error}}</span>
                                    </div>
                                </div>
                                <div id="participer_form">
                                    <div
                                        class="buttons_form_container tab"
                                        ng-if="state.type == 'selection_static' || state.type == 'selection_dynamique'"
                                    >
                                        <!-- !list_is_first_position -->
                                        <!-- Update the duplicate, check ng-if="state.list_is_first_position" -->
                                        <div
                                            ng-repeat="option in state.data"
                                            class="button_form"
                                            ng-if="!state.list_is_first_position &amp;&amp; _.isObject(state.data)"
                                        >
                                            <div
                                                class="btn label"
                                                name="option_{{option.id}}"
                                                ng-class="{checked: state.selected_id == option.id}"
                                                ng-click="click_dynamique(option)"
                                                ng-dblclick="next_btn()"
                                            >
    <!--                                            <i class="fa {{option.icon}}" ng-if="option.icon"/>-->
    <!--                                            <img-->
    <!--                                                class="activite_img img-fluid"-->
    <!--                                                src="/web/image/website_accorderie.ir_attachment_meritt_thomas_u_hb93v6iwi_unsplash_jpg/meritt-thomas-u-Hb93V6IWI-unsplash.jpg"-->
    <!--                                            />-->
                                                <h5 ng-if="option.title">{{option.title}}</h5>
                                                <p
                                                    ng-if="!_.isEmpty(option.html)"
                                                    ng-bind-html="option.html | unsafe"
                                                />
                                                <p
                                                    ng-if="!_.isEmpty(option.right_html)"
                                                    ng-bind-html="option.right_html | unsafe"
                                                />
                                            </div>
                                        </div>
                                        <div
                                            ng-repeat="option in state.list"
                                            ng-class="{'debug_unimplemented': is_not_implemented(option)}"
                                            class="button_form"
                                        >
                                            <label
                                                for="{{option.id}}"
                                                name="option_{{option.id}}"
                                                class="btn label"
                                                ng-class="{checked: $parent.$parent.state.next_id == option.id}"
                                                ng-click="click_statique(option)"
                                                ng-dblclick="next_btn()"
                                            >
                                                <i class="fa {{option.icon}}" ng-if="option.icon" />
                                                <h5 ng-if="option.title">{{option.title}}</h5>
                                                <p
                                                    ng-if="!_.isEmpty(option.html)"
                                                    ng-bind-html="option.html | unsafe"
                                                />
                                            </label>
                                        </div>
                                        <!-- list_is_first_position -->
                                        <div
                                            ng-repeat="option in state.data"
                                            class="button_form"
                                            ng-if="state.list_is_first_position &amp;&amp; _.isObject(state.data)"
                                        >
                                            <div
                                                class="btn label"
                                                name="option_{{option.id}}"
                                                ng-class="{checked: state.selected_id == option.id}"
                                                ng-click="click_dynamique(option)"
                                                ng-dblclick="next_btn()"
                                            >
    <!--                                            <i class="fa {{option.icon}}" ng-if="option.icon"/>-->
    <!--                                            <img-->
    <!--                                                class="activite_img img-fluid"-->
    <!--                                                src="/web/image/website_accorderie.ir_attachment_meritt_thomas_u_hb93v6iwi_unsplash_jpg/meritt-thomas-u-Hb93V6IWI-unsplash.jpg"-->
    <!--                                            />-->
                                                <h5 ng-if="option.title">{{option.title}}</h5>
                                                <p
                                                    ng-if="!_.isEmpty(option.html)"
                                                    ng-bind-html="option.html | unsafe"
                                                />
                                                <p
                                                    ng-if="!_.isEmpty(option.right_html)"
                                                    ng-bind-html="option.right_html | unsafe"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                    <div
                                        class="buttons_form_container tab"
                                        style="justify-content:space-between;"
                                        ng-if="state.type == 'choix_categorie_de_service'"
                                    >
                                        <div
                                            ng-if="_.isEmpty(state.data)"
                                        >Aucune catégorie de service, veuillez communiquer avec votre administrateur.</div>
                                        <div ng-if="!_.isEmpty(actual_inner_state_name)" style="width:100%;"><span
                                                style="cursor:pointer"
                                                ng-click="previous_inner_state_btn()"
                                            ><i class="fa fa-chevron-left" /> {{actual_inner_state_name}}</span></div>
                                        <span ng-repeat="option in state_get_data()" class="categorie">
                                            <label
                                                class="cat btn label"
                                                ng-class="{checked: $parent.$parent.state.selected_id == option.id}"
                                                for="{{option.id}}"
                                                ng-click="click_inner_state_option(option)"
                                                ng-dblclick="next_btn()"
                                            >
                                                <img
                                                    ng-if="!_.isEmpty(option.icon)"
                                                    ng-src="{{option.icon}}"
                                                    alt="icon"
                                                    class="offre_img"
                                                />
                                                <span
                                                    class="cat_desc"
                                                    ng-if="!_.isEmpty(option.html)"
                                                    ng-bind-html="option.html | unsafe"
                                                />
                                            </label>
                                        </span>
                                    </div>
                                    <div
                                        class="buttons_form_container tab"
                                        ng-if="state.type == 'form'"
                                        style="flex-direction:column; flex-wrap:nowrap;"
                                        ng-class="{form: form_is_offre_demande_service(state)}"
                                        ng-controller="EchangeService"
                                        ng-init="update_form = true; echange_service_id = form.echange_service_id.id; getDatabaseInfo(); "
                                    >
                                        <!-- Catégorie -->
                                        <div
                                            ng-if="form_is_offre_demande_service(state) &amp;&amp; state.show_breadcrumb"
                                            class="nav_back"
                                        ><b>Catégorie:</b><span
                                                ng-repeat="link in lst_label_breadcrumb"
                                                ng-click="change_breadcrumb_index(link.index)"
                                                class="cursor-pointer"
                                                ng-if="!_.isEmpty(link.html)"
                                                ng-bind-html="link.html | unsafe"
                                            /><i class="fa fa-chevron-right" /></div>

                                        <!-- Photo header -->
                                        <section
                                            ng-if="form_is_offre_demande_service(state)"
                                            class="s_event_banner oe_img_bg oe_custom_bg debug_unimplemented"
                                            style="background-image: url(&quot;/web/image/website_accorderie.ir_attachment_eric_prouzet_z62b9jiltgm_unsplash_jpg/eric-prouzet-Z62b9jIltGM-unsplash.jpg&quot;);"
                                        >
                                            <!-- TODO fill image with model -->
                                            <div style="text-align:center" class="debug_unimplemented">
                                                <div class="btn btn-primary text-gamma">
                                                    <i class="fa fa-edit icon_padding_right" />
                                                    Remplacer la photo
                                                </div>
                                            </div>
                                        </section>

                                        <!-- Présentation du service -->
                                        <span
                                            ng-if="form_is_demande_existante(state) &amp;&amp; !_.isUndefined(form.demande_service_id)"
                                        >
                                            <h2>Demande de service</h2>
                                            <div
                                                ng-controller="OffreDemandeService"
                                                ng-include="'/accorderie/template/offre_ou_demande_de_service_generic'"
                                                ng-init="model = 'accorderie.demande.service'; service_id = form.demande_service_id.id; service_enable_href = false; service_enable_favorite = false; type_service = 'demande'; getDatabaseInfo(); "
                                            />
                                        </span>
                                        <span
                                            ng-if="form_is_echange_sur_offre_demande_existante(state) &amp;&amp; !_.isUndefined(form.offre_service_id)"
                                        >
                                            <h2
                                                ng-if="form_is_nouvel_echange_service_offrir_offre_existante(state)"
                                            >Offre de service donné
                                            </h2>
                                            <h2
                                                ng-if="state.id == 'init.saa.recevoir.choix.existant.time.form'"
                                            >Offre de service demandé
                                            </h2>
                                            <h2
                                                ng-if="['init.va.non.recu.choix.form'].includes(state.id)"
                                            >Offre de service reçu
                                            </h2>
                                            <div
                                                ng-controller="OffreDemandeService"
                                                ng-include="'/accorderie/template/offre_ou_demande_de_service_generic'"
                                                ng-init="model = 'accorderie.offre.service'; service_id = form.offre_service_id.id; service_enable_href = false; service_enable_favorite = false; type_service = 'offre'; getDatabaseInfo(); "
                                            />
                                        </span>
                                        <span ng-if="['init.va.oui.form'].includes(state.id)">
                                            <span
                                                ng-if="form_is_exist_echange_to_validate(state) &amp;&amp; !_.isUndefined(echange_service.demande_service)"
                                            >
                                                <h2>
                                                    Offre de service reçu
                                                </h2>
                                                <div
                                                    ng-controller="OffreDemandeService"
                                                    ng-include="'/accorderie/template/offre_ou_demande_de_service_generic'"
                                                    ng-init="model = 'accorderie.demande.service'; service_id = echange_service.demande_service; service_enable_href = false; service_enable_favorite = false; type_service = 'offre'; getDatabaseInfo(); "
                                                />
                                            </span>
                                            <br />
                                            <br />
                                            <span
                                                ng-if="form_is_exist_echange_to_validate(state) &amp;&amp; !_.isUndefined(echange_service.offre_service)"
                                            >
                                                <h2>
                                                    Offre de service donné
                                                </h2>
                                                <div
                                                    ng-controller="OffreDemandeService"
                                                    ng-include="'/accorderie/template/offre_ou_demande_de_service_generic'"
                                                    ng-init="model = 'accorderie.offre.service'; service_id = echange_service.offre_service; service_enable_href = false; service_enable_favorite = false; type_service = 'offre'; getDatabaseInfo(); "
                                                />
                                            </span>
                                        </span>
                                        <div
                                            class="divider"
                                            ng-if="form_is_echange_sur_offre_demande_existante(state) || form_is_exist_echange_to_validate(state)"
                                        />

                                        <!-- Destinataire du service -->
                                        <h2 ng-if="form_is_destinataire_du_service(state)">
                                            Destinataire du service
                                        </h2>
                                        <h2 ng-if="form_is_destinataire_du_service_de_qui(state)">
                                            De qui avez-vous reçu le service?
                                        </h2>
                                        <div
                                            class="form_box cursor-pointer"
                                            ng-if="form_is_destinataire_du_service_de_qui(state) || form_is_destinataire_du_service(state)"
                                            ng-click="change_state_to_field_id('membre_id')"
                                        >
                                            <span>{{form.membre_id.value}}</span>
                                            <i class="fa fa-chevron-right" />
                                        </div>
                                        <div
                                            class="divider"
                                            ng-if="form_is_destinataire_du_service_de_qui(state) || form_is_destinataire_du_service(state)"
                                        />

                                        <!-- Description du service -->
                                        <div ng-if="form_is_nouveau_except_pos(state)">
                                            <h2>
                                                Description du service privé
                                            </h2>
                                            <div>
                                                <h4>Catégorie du service</h4>
                                            </div>
                                            <div
                                                class="form_box cursor-pointer"
                                                ng-click="change_state_to_field_id('type_service_id')"
                                            >
                                                <span>{{form.type_service_id.value}}</span>
                                                <i class="fa fa-chevron-right" />
                                            </div>
                                            <div>
                                                <h4>Nom du service</h4>
                                            </div>
                                        </div>

                                        <h4 ng-if="form_is_nouvelle_offre(state)">Titre de l'offre de service</h4><h4
                                            ng-if="form_is_nouvelle_demande(state)"
                                        >Titre de la demande de service
                                        </h4>

                                        <input
                                            ng-if="form_is_nouveau(state)"
                                            type="text"
                                            class="form_titre"
                                            ng-model="form.titre"
                                        />

                                        <div ng-if="form_is_nouveau_except_pos(state)">
                                            <h4>Description du service</h4>
                                        </div>

                                        <div ng-if="form_is_offre_demande_service(state)">
                                            <h4>Description</h4>
                                        </div>

                                        <textarea
                                            class="form_desc"
                                            ng-model="form.description"
                                            ng-if="form_is_nouveau(state)"
                                        />

                                        <div
                                            class="debug_unimplemented"
                                            ng-if="['init.pos.single.form', 'init.pds.single.form', 'init.saa.offrir.nouveau.cat.form'].includes(state.id)"
                                        >
                                            <div>
                                                <h4>Déplacement
                                                    <a
                                                        class="fa fa-trash text-alpha modifier"
                                                        style="margin-left:auto;font-size:1.5rem"
                                                    />
                                                </h4>
                                            </div>
                                            <div class="form_box">
                                                <span>Je me déplace:</span>
                                                <span>En voiture</span>
                                                <i class="fa fa-chevron-right" />
                                            </div>
                                            <div class="form_box">
                                                <span>J'accepte de me déplacer:</span>
                                                <span>Dans la région</span>
                                                <i class="fa fa-chevron-right" />
                                            </div>
                                            <div class="form_box">
                                                <span>Destination spécifique: </span>
                                                <span>Aucune</span>
                                                <i class="fa fa-chevron-right" />
                                            </div>
                                            <div>
                                                <h4>Entente tarifaire
                                                    <a
                                                        class="fa fa-trash text-alpha modifier"
                                                        style="margin-left:auto;font-size:1.5rem"
                                                    />
                                                </h4>
                                            </div>
                                            <div class="form_box flex-column" style="gap:1rem;">
                                                <div class="d-flex align-items-center w-100">
                                                    <i class="fa fa-check text-epsilon checker mt-0" />
                                                    <span
                                                    >Les aliments nécessaires pour la confection du dessert sont à vos frais</span>
                                                    <i class="fa fa-times text-alpha ml-auto" />
                                                </div>
                                                <div class="d-flex align-items-center w-100">
                                                    <i class="fa fa-plus rounded-dashed" />
                                                    <span>Ajouter un élément à la liste</span>
                                                </div>
                                            </div>
                                            <div ng-if="form_is_offre_demande_service(state)">
                                                <h4>Disponibilités
                                                    <a
                                                        class="fa fa-trash text-alpha modifier"
                                                        style="margin-left:auto;font-size:1.5rem"
                                                    />
                                                </h4>
                                                <div class="form_box">
                                                    <div class="dispo">
                                                        <div class="dates_container">
                                                            <p>LUNDI</p>
                                                            <p>-</p>
                                                            <p>MARDI</p>
                                                            <p>-</p>
                                                            <p>MERCREDI</p>
                                                            <p>08H00 - 19H00</p>
                                                            <p>JEUDI</p>
                                                            <p>-</p>
                                                            <p>VENDREDI</p>
                                                            <p>08H00 - 19H00</p>
                                                            <p>SAMEDI</p>
                                                            <p>08H00 - 19H00</p>
                                                            <p>DIMANCHE</p>
                                                            <p>-</p>
                                                        </div>
                                                    </div>
                                                    <i class="fa fa-chevron-right" />
                                                </div>
                                            </div>
                                            <div class="form_box dashed">
                                                <i class="fa fa-plus" />
                                                <span class="mr-auto ml-3">Matériel nécessaire</span>
                                            </div>
                                            <div class="form_box dashed">
                                                <i class="fa fa-plus" />
                                                <span
                                                    class="mr-auto ml-3"
                                                    ng-if="'init.saa.offrir.nouveau.cat.form' === state.id"
                                                >Conditions de l'échange de service</span>
                                                <span
                                                    class="mr-auto ml-3"
                                                    ng-if="form_is_offre_demande_service(state)"
                                                >Conditions</span>
                                            </div>
                                            <div
                                                class="form_box dashed"
                                                ng-if="'init.saa.offrir.nouveau.cat.form' === state.id"
                                            >
                                                <i class="fa fa-plus" />
                                                <span class="mr-auto ml-3">Commentaires</span>
                                            </div>
                                        </div>


                                        <div class="divider" ng-if="form_is_nouveau_except_pos(state)" />

                                        <!-- Service -->
                                        <h2
                                            ng-if="'init.saa.offrir.nouveau.cat.form' === state.id"
                                        >Date prévue du service
                                        </h2>
                                        <h2
                                            ng-if="(form_is_service(state) || form_is_service_and_service_prevu(state)) &amp;&amp; 'init.saa.offrir.nouveau.cat.form' !== state.id"
                                        >Service
                                        </h2>
                                        <div ng-if="form_is_service_and_service_prevu(state)">
                                            <!-- load_date() will initialize date field -->
                                            {{load_date()}}
                                            <h4>Date de l'échange du service
                                                <a
                                                    href=""
                                                    class="text-primary modifier"
                                                    ng-if="form_is_service_to_modify(state) &amp;&amp; !form_is_modifying_date_service"
                                                    ng-click="toggleFormIsModifyingDateService()"
                                                >Modifier</a>
                                                <a
                                                    href=""
                                                    class="text-primary modifier"
                                                    ng-if="form_is_service_to_modify(state) &amp;&amp; form_is_modifying_date_service"
                                                    ng-click="toggleFormIsModifyingDateService(true)"
                                                >Annuler</a>
                                            </h4>
                                            <span
                                                ng-if="!form_is_modifying_date_service &amp;&amp; form_is_service_to_modify(state)"
                                            >{{form_date_service}}</span>
                                            <div
                                                class="input-group date"
                                                data-target-input="nearest"
                                                t-attf-id="date_service_datepicker"
                                                ng-if="form_is_modifying_date_service || !form_is_service_to_modify(state)"
                                            >
                                                <input
                                                    class="form-control datetimepicker-input o_website_form_input o_website_form_date"
                                                    name="date"
                                                    t-att-value="default_date"
                                                    t-attf-data-target="#date_service_datepicker"
                                                    type="text"
                                                    ng-model="form.date_service"
                                                />
                                                <div
                                                    class="input-group-append"
                                                    t-attf-data-target="#date_service_datepicker"
                                                    data-toggle="datetimepicker"
                                                >
                                                    <div class="input-group-text">
                                                        <i class="fa fa-calendar" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div
                                                class="btn btn-primary text-gamma px-4 py-2"
                                                style="align-self:start;"
                                                ng-if="form_is_modifying_date_service"
                                                ng-click="toggleFormIsModifyingDateService()"
                                            >Enregistrer</div>
                                        </div>

                                        <div ng-if="form_is_service_and_service_prevu(state)">
                                            <h4>Heure de début du service<a
                                                    href=""
                                                    class="text-primary modifier"
                                                    ng-if="form_is_service_to_modify(state) &amp;&amp; !form_is_modifying_time_service"
                                                    ng-click="toggleFormIsModifyingTimeService()"
                                                >Modifier</a>
                                                <a
                                                    href=""
                                                    class="text-primary modifier"
                                                    ng-if="form_is_service_to_modify(state) &amp;&amp; form_is_modifying_time_service"
                                                    ng-click="toggleFormIsModifyingTimeService(true)"
                                                >Annuler</a></h4>
                                            <span
                                                ng-if="form_is_service_to_modify(state) &amp;&amp; !form_is_modifying_time_service"
                                            >{{form_time_service}}</span>
                                            <div
                                                class="input-group date"
                                                data-target-input="nearest"
                                                t-attf-id="time_service_datepicker"
                                                ng-if="!form_is_service_to_modify(state) || form_is_modifying_time_service"
                                            >
                                                <input
                                                    class="form-control datetimepicker-input o_website_form_input o_website_form_clock"
                                                    name="date"
                                                    t-att-value="default_date"
                                                    t-attf-data-target="#time_service_datepicker"
                                                    type="text"
                                                    ng-model="form.time_service"
                                                />
                                                <div
                                                    class="input-group-append"
                                                    t-attf-data-target="#time_service_datepicker"
                                                    data-toggle="datetimepicker"
                                                >
                                                    <div class="input-group-text">
                                                        <i class="fa fa-clock-o" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div
                                                class="btn btn-primary text-gamma px-4 py-2"
                                                style="align-self:start;"
                                                ng-if="form_is_modifying_time_service"
                                                ng-click="toggleFormIsModifyingTimeService()"
                                            >Enregistrer</div>
                                        </div>

                                        <div ng-if="form_is_service(state)">
                                            <h4>Durée de la réalisation du service</h4>
                                            <div
                                                class="input-group date"
                                                data-target-input="nearest"
                                                t-attf-id="time_realisation_service_datepicker"
                                            >
                                                <input
                                                    class="form-control datetimepicker-input o_website_form_input o_website_form_clock"
                                                    name="date"
                                                    t-att-value="default_date"
                                                    t-attf-data-target="#time_realisation_service_datepicker"
                                                    type="text"
                                                    ng-model="form.time_realisation_service"
                                                />
                                                <div
                                                    class="input-group-append"
                                                    t-attf-data-target="#time_realisation_service_datepicker"
                                                    data-toggle="datetimepicker"
                                                >
                                                    <div class="input-group-text">
                                                        <i class="fa fa-clock-o" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div ng-if="form_is_service(state)">
                                            <h4>Durée du trajet aller-retour</h4>
                                            <div
                                                class="input-group date"
                                                data-target-input="nearest"
                                                t-attf-id="time_dure_trajet_datepicker"
                                            >
                                                <input
                                                    class="form-control datetimepicker-input o_website_form_input o_website_form_clock"
                                                    name="date"
                                                    t-att-value="default_date"
                                                    t-attf-data-target="#time_dure_trajet_datepicker"
                                                    type="text"
                                                    ng-model="form.time_dure_trajet"
                                                />
                                                <div
                                                    class="input-group-append"
                                                    t-attf-data-target="#time_dure_trajet_datepicker"
                                                    data-toggle="datetimepicker"
                                                >
                                                    <div class="input-group-text">
                                                        <i class="fa fa-clock-o" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="divider" ng-if="form_is_service_and_service_prevu(state)" />

                                        <!-- Coût possible -->
                                        <span
                                            ng-class="{'debug_unimplemented': ['init.saa.recevoir.choix.existant.time.form'].includes(state.id)}"
                                        >
                                            <h2
                                                ng-if="'init.saa.offrir.nouveau.cat.form' === state.id || form_is_service_to_modify(state)"
                                            >Coûts possibles supplémentaires à prévoir
                                            </h2>
                                            <h2 ng-if="form_is_service(state)">Coûts supplémentaires dûs
                                            </h2>
                                            <div ng-if="form_is_frais_trajet_distance(state)">
                                                <h4>Frais pour trajet de :
                                                    <a
                                                        href=""
                                                        class="text-primary modifier"
                                                        ng-if="form_is_service_to_modify(state)"
                                                    >Annuler</a>
                                                </h4>
                                            </div>
                                            <div
                                                ng-if="form_is_frais_trajet_distance(state) &amp;&amp; !form_is_service_to_modify(state)"
                                            >
                                                <div class="form_box float-left w-75 d-inline-block">
    <!--                                                    <span>2.3</span>-->
                                                    <input
                                                        class="form-control"
                                                        name="date"
                                                        type="text"
                                                        ng-model="form.distance_trajet"
                                                    />
                                                </div>
                                                <div class="form_box ml-auto" style="width:20%;">
                                                    <span>Km</span>
    <!--                                                    <i class="fa fa-chevron-down" />-->
                                                </div>
                                            </div>
                                            <div ng-if="form_is_service_to_modify(state)">
                                                <span>{{form.distance_trajet}} km</span>
                                            </div>
                                            <div
                                                class="btn btn-primary text-gamma px-4 py-2"
                                                style="align-self:start;"
                                                ng-if="form_is_service_to_modify(state)"
                                            >Enregistrer</div>

                                            <div ng-if="form_is_frais_trajet_prix(state)">
                                                <h4>Frais pour trajet :</h4>
                                            </div>
                                            <div class="form_box" ng-if="form_is_frais_trajet_prix(state)">
                                                <input
                                                    class="form-control border-0"
                                                    name="date"
                                                    type="text"
                                                    ng-model="form.frais_trajet"
                                                />
                                                <span>$</span>
                                            </div>
                                            <div ng-if="form_is_frais_trajet_prix(state)">
                                                <h4>Frais pour le matériel nécessaire à l'échange de service</h4>
                                            </div>
                                            <div class="form_box" ng-if="form_is_frais_trajet_prix(state)">
                                                <input
                                                    class="form-control border-0"
                                                    name="date"
                                                    type="text"
                                                    ng-model="form.frais_materiel"
                                                />
                                                <span>$</span>
                                            </div>

                                            <div
                                                ng-if="form_is_frais_import_list_without_modify(state)"
                                                class="debug_unimplemented"
                                            >
                                                <h4>Frais pour le matériel nécessaire à l'échange de service</h4>
                                            </div>
                                            <div
                                                class="form_box debug_unimplemented"
                                                style="width:fit-content;"
                                                ng-if="form_is_frais_import_list_without_modify(state)"
                                            >
                                                <span>Importer une liste<i class="fa fa-download ml-3" /></span>
                                            </div>

                                            <div ng-if="form_is_service_to_modify(state)" class="debug_unimplemented">
                                                <h4>Frais pour le matériel nécessaire à l'échange de service
                                                    <a href="" class="text-primary modifier">Importer une
                                                        liste
                                                        <i class="fa fa-download" />
                                                    </a>
                                                </h4>
                                            </div>

                                            <div
                                                class="divider"
                                                ng-if="form_is_service_and_service_prevu(state) &amp;&amp; !['init.saa.offrir.demande.existante.date.time.form'].includes(state.id)"
                                            />
                                        </span>

                                        <!-- Estimation de la durée du service -->
                                        <div ng-if="'init.saa.offrir.nouveau.cat.form' === state.id">
                                            <h2>Estimation de la durée de service
                                            </h2>
                                            <h4>Temps de service estimé</h4>
    <!--                                        <span>1h50</span>-->
                                            <div
                                                class="input-group date"
                                                data-target-input="nearest"
                                                t-attf-id="time_service_estimated_datepicker"
                                            >
                                                <input
                                                    class="form-control datetimepicker-input o_website_form_input o_website_form_clock"
                                                    name="date"
                                                    t-att-value="default_date"
                                                    t-attf-data-target="#time_service_estimated_datepicker"
                                                    type="text"
                                                    ng-model="form.time_service_estimated"
                                                />
                                                <div
                                                    class="input-group-append"
                                                    t-attf-data-target="#time_service_estimated_datepicker"
                                                    data-toggle="datetimepicker"
                                                >
                                                    <div class="input-group-text">
                                                        <i class="fa fa-clock-o" />
                                                    </div>
                                                </div>
                                            </div>
                                            <h4>Temps de trajet estimé</h4>
    <!--                                        <span>00h10</span>-->
                                            <div
                                                class="input-group date"
                                                data-target-input="nearest"
                                                t-attf-id="time_drive_estimated_datepicker"
                                            >
                                                <input
                                                    class="form-control datetimepicker-input o_website_form_input o_website_form_clock"
                                                    name="date"
                                                    t-att-value="default_date"
                                                    t-attf-data-target="#time_drive_estimated_datepicker"
                                                    type="text"
                                                    ng-model="form.time_drive_estimated"
                                                />
                                                <div
                                                    class="input-group-append"
                                                    t-attf-data-target="#time_drive_estimated_datepicker"
                                                    data-toggle="datetimepicker"
                                                >
                                                    <div class="input-group-text">
                                                        <i class="fa fa-clock-o" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Commentaires -->
                                        <h2 ng-if="form_is_commentaire(state)">Commentaires
                                        </h2>
                                        <textarea
                                            class="form_desc"
                                            ng-model="form.commentaires"
                                            ng-if="form_is_commentaire(state)"
                                        />

                                        <span
                                            ng-class="{'debug_unimplemented': ['init.saa.recevoir.choix.existant.time.form'].includes(state.id)}"
                                        >
                                            <!-- Durée de service -->
                                            <div ng-if="form_is_service_to_modify(state)">
                                                <h2>Durée du service</h2>
                                                <h4>Nombre d'heures estimé pour le service<a
                                                        href=""
                                                        class="text-primary modifier"
                                                        ng-if="form_is_service_to_modify(state)"
                                                    >Modifier</a>
                                                </h4>
                                                    14h00
                                                <h4>Durée du trajet à effectuer<a
                                                        href=""
                                                        class="text-primary modifier"
                                                        ng-if="form_is_service_to_modify(state)"
                                                    >Modifier</a>
                                                </h4>
                                                    14h00
                                            </div>

                                            <!-- Montant à transférer -->
                                            <div
                                                class="bar_time"
                                                ng-if="form_is_service_and_service_prevu(state) &amp;&amp; !['init.saa.offrir.demande.existante.date.time.form'].includes(state.id)"
                                                style="background-color: #b4114a; color: white;"
                                            >
                                                <b>Montant total de temps à transférer</b>
                                                <span>{{show_sum_total_time_echange()}}</span>
                                            </div>
                                        </span>

                                        <!-- Respecter les conditions suivantes -->
                                        <span ng-if="form_is_service_to_modify(state)" class="debug_unimplemented">
                                            <div class="divider" />
                                            <!-- TODO button send form need to click to accept this condition -->
                                            <h3><b>Respectez-vous les conditions suivantes :</b>
                                            </h3>
                                            <span>
                                                <i class="fa fa-check checker text-epsilon icon_padding_right" />
                                                Il doit y avoir au moins 4 personnes pour le déménagement.
                                            </span>
                                            <div class="divider" />
                                            <!-- Mise en garde -->
                                            <h3><b>Mise en garde</b>
                                            </h3>
                                            <p
                                            >Avant tout échange de services, nous vous conseillons de vous rejoindre sur un terrain neutre pour vous rencontrer et vous mettre d'accord sur les détails.<br
                                                />Bien que nous vérifions les antécédents judiciaires de certains profils, l'Accorderie ne peut être tenue responsable si vous rencontrez une personne avec de mauvaises intentions. Si vous avez ou avez eu un problème cependant, veuillez nous en avertir.
                                            </p>
                                        </span>
                                    </div>
                                    <div class="buttons_form_container tab" ng-if="state.type == 'choix_membre'">
                                        <div class="search_member_container mx-auto">
                                            <img
                                                style="width:50px; aspect-ratio:1;"
                                                class="nav_pic rounded-circle"
                                                ng-src="{{state.selected_obj_value.img}}"
                                                ng-if="!_.isUndefined(state.selected_obj_value)"
                                            />
                                            <i class="fa fa-search" ng-if="_.isUndefined($parent.state.selected_id)" />
                                            <input
                                                id="chooseMember"
                                                type="search"
                                                dir="ltr"
                                                spellcheck="false"
                                                autocorrect="off"
                                                autocomplete="off"
                                                autocapitalize="off"
                                                maxlength="2048"
                                                tabindex="1"
                                                placeholder="{{chooseMemberPlaceholder}}"
                                                ng-readonly="!_.isUndefined($parent.state.selected_id)"
                                                ng-model="tmpForm.modelChooseMember"
                                            />
                                            <button
                                                class="fa fa-times-circle remove_member text-epsilon"
                                                ng-click="remove_member()"
                                                ng-if="!_.isUndefined($parent.state.selected_id)"
                                            />
                                        </div>
                                        <div ng-if="_.isEmpty(state.data)">
                                            Aucun membre existant, veuillez contacter votre administrateur.
                                        </div>
                                        {{ load_member() }}

                                    </div>
                                    <div class="buttons_form_container tab" ng-if="state.type == 'calendrier'">
                                        {{ load_date() }}
                                        <div
                                            class="input-group date"
                                            data-target-input="nearest"
                                            t-attf-id="date_service"
                                            inline-date="true"
                                            side-by-side="true"
                                            date-format-tool="date"
                                            date-min-today="true"
                                            date-max-year="true"
                                        />
                                    </div>
                                    <div class="buttons_form_container tab" ng-if="state.type == 'temps_duree'">
                                        {{ load_date() }}
                                        <div
                                            class="input-group date"
                                            data-target-input="nearest"
                                            t-attf-id="time_service"
                                            inline-date="true"
                                            side-by-side="true"
                                            date-format-tool="clock"
                                        />
                                    </div>
                                    <div class="submit_container">
                                        <input
                                            id="reloadBtn"
                                            type="button"
                                            value="Recharger"
                                            class="submit_btn btn"
                                            ng-show="error"
                                            ng-click="init_controller()"
                                        />
                                        <a
                                            id="prevBtn"
                                            value="Retour"
                                            class="prev"
                                            ng-show="is_show_previous()"
                                            ng-click="previous_btn()"
                                            href=""
                                        >Retour</a>
                                        <input
                                            id="nextBtn"
                                            type="button"
                                            value="Suivant"
                                            class="submit_btn btn"
                                            ng-show="is_show_next()"
                                            ng-click="next_btn()"
                                            ng-class="{'submit_btn_disable': is_disable_next()}"
                                        />
                                        <input
                                            id="submitBtn"
                                            type="button"
                                            ng-value="state.submit_button_text"
                                            class="submit_btn btn"
                                            ng-show="is_show_submit()"
                                            ng-class="{'submit_btn_disable': !formCanSend()}"
                                            ng-click="formCanSend() &amp;&amp; submit_form()"
                                        />
                                    </div>
                                </div>
                            </section>
                            <div
                                class="modal fade modal_pub_offre modal_shown show"
                                style="display:block"
                                ng-show="show_submit_modal"
                            >
                                <div class="modal-dialog">
                                    <div id="s_media_block_modal" class="modal-content">
<!--                                        <div ng-if="animationRecord.recordOn">-->
<!--                                            <button ng-click="closeModalForm()"><i class="fa fa-x" /></button>-->
<!--&lt;!&ndash;                                            <button ng-click="show_submit_modal=false"><i class="fa fa-x" /></button>&ndash;&gt;-->
<!--                                        </div>-->
                                        <span style="font-size: 7rem;" class="fa fa-check-circle-o text-epsilon" />
                                        <div class="modal-body" ng-if="!_.isUndefined(state.submit_response_title)">
                                            <h2>{{state.submit_response_title}}</h2>
                                        </div>
                                        <p ng-if="!_.isUndefined(state.submit_response_description)">
                                            {{state.submit_response_description}}
                                        </p>
                                        <a ng-if="submitted_url" href="{{submitted_url}}">
                                            <button
                                                ng-if="form_is_nouvelle_offre(state) || ['init.saa.offrir.existant.form', 'init.saa.offrir.demande.existante.date.time.form'].includes(state.id)"
                                                class="btn btn-primary text-gamma"
                                            >Voir mon offre</button>
                                            <button
                                                ng-if="form_is_nouvelle_demande(state) || ['init.saa.demande.form'].includes(state.id)"
                                                class="btn btn-primary text-gamma"
                                            >Voir ma demande</button>
                                            <button
                                                ng-if="form_is_recevoir_not_valider(state)"
                                                class="btn btn-primary text-gamma"
                                            >Visualiser ma demande</button>
                                            <button
                                                ng-if="['init.saa.offrir.nouveau.cat.form'].includes(state.id)"
                                                class="btn btn-primary text-gamma"
                                            >Voir mon offre d'échange de service</button>
                                            <button
                                                ng-if="form_is_valider_echange(state)"
                                                class="btn btn-primary text-gamma"
                                            >Voir les détails de la transaction</button>
                                        </a>
                                        <a
                                            ng-href="/accorderie/accorderie_offre_service/{{form.offre_service_id.id}}"
                                            ng-if="['init.saa.recevoir.choix.existant.time.form'].includes(state.id)"
                                        >
                                            <button class="btn btn-primary text-gamma">Voir l'offre de service
                                            </button>
                                        </a>
                                        <a
                                            ng-href="/monprofil/mapresentation#!?membre_id={{form.membre_id.id}}"
                                            ng-if="form_is_echange_pas_valider(state)"
                                        >
                                            <button class="btn btn-primary text-gamma">Voir le profil de l'Accordeur.e
                                            </button>
                                        </a>
                                        <a href="monprofil/mesannonces" ng-if="form_is_offre_demande_service(state)">
                                            <button class="btn btn-primary text-gamma">Voir toutes mes
                                                annonces
                                            </button>
                                        </a>
                                        <a href="monactivite/echanges" ng-if="form_is_valider_echange(state)">
                                            <button class="btn btn-primary text-gamma">Voir tous mes
                                                échanges
                                            </button>
                                        </a>
                                        <a href="explorer">
                                            <button class="btn btn-primary text-gamma">Retourner à
                                                l'accueil
                                            </button>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </t>
            </t>
        </t>
    </template>
    <template
        id="accorderie_type_service_categorie_list_publication_sous_categorie"
        name="Publication List - sous categorie"
    >
        <div t-if="not type_service_sous_categories">
            <div class="row">Aucune catégorie de service est disponible.</div>
        </div>
        <t t-if="type_service_sous_categories">
            <t t-foreach="type_service_sous_categories" t-as="type_service_sous_categorie">
                <input
                    type="radio"
                    t-att-id="'sous_cat_%s' % str(type_service_sous_categorie.id)"
                    name="type_service_sous_categorie"
                    t-att-value="type_service_sous_categorie.id"
                />
                <label
                    t-att-for="'sous_cat_%s' % str(type_service_sous_categorie.id)"
                    class="button_form btn small label"
                >
                    <p
                        class="offre_desc"
                        t-if="type_service_sous_categorie.nom"
                        t-raw="type_service_sous_categorie.nom"
                    />
                </label>
            </t>
        </t>
    </template>
    <template id="template_votre_contact_full" name="Votre contact">
        <div ng-if="_.isEmpty(contact_info)">
            Information manquante sur le contact, veuillez informer votre administrateur du problème.
        </div>
        <div class="card-votre-relation" ng-if="!_.isEmpty(contact_info)">
            <div class="img rounded-circle" ng-style="{'background-image': 'url(' + contact_info.ma_photo + ')'}" />
            <h4><b>Votre contact :</b></h4>
            <h4>{{contact_info.full_name}}</h4>
            <div class="stats">
                <p>
                    <i class="fa fa-user-circle" />
                    Membre depuis {{contact_info.show_date_creation}}
                </p>
                <p>
                    <i class="fa fa-shield" ng-class="{'neg_time': !contact_info.antecedent_judiciaire_verifier}" />
                    Antécédents judiciaires <span
                        ng-if="!contact_info.antecedent_judiciaire_verifier"
                    >non </span>vérifiés
                </p>
                <p>
                    <i class="fa fa-user-circle" />
                    {{contact_info.len_offre_service}} offre<span
                        ng-if="contact_info.len_offre_service > 1"
                    >s</span> de service
                </p>
                <p>
                    <i class="fa fa-user-circle" />
                    {{contact_info.len_demande_service}} demande<span
                        ng-if="contact_info.len_demande_service > 1"
                    >s</span> de service
                </p>
                <p>
                    <i class="fa fa-clock-o" />
                    {{contact_info.show_bank_max_service_offert}} de service à son actif
                </p>
            </div>
            <div class="summary" ng-if="!_.isEmpty(contact_info.introduction)">
                <q>{{contact_info.introduction}}</q>
            </div>
            <div class="buttons">
                <a ng-href="/monprofil/mapresentation#!?membre_id={{contact_info.id}}">
                    <div class="btn btn-primary rounded-circle">
                        En savoir plus<span
                            ng-if="!_.isUndefined(contact_info.prenom)"
                        > sur {{contact_info.prenom}}</span>
                    </div>
                </a>
            </div>
        </div>
    </template>
    <template id="template_offre_ou_demande_de_service_generic" name="Offre ou demande de service generic">
        <!-- Need angularjs scope variable service_enable_href, service_enable_favorite, service_id, service, model, type_service (offre ou demande) -->
        <div
            class="activite"
            ng-class="{'btn': service_enable_href}"
            ng-if="!_.isUndefined(service_enable_href) &amp;&amp; !_.isUndefined(service_enable_favorite) &amp;&amp; !_.isUndefined(service_id) &amp;&amp; !_.isUndefined(service)"
        >
            <a
                ng-href="{{service_enable_href ? ('/accorderie/accorderie_' + type_service + '_service/' + service_id) : ''}}"
            >
                <img
                    class="activite_img img-fluid"
                    src="/web/image/website_accorderie.ir_attachment_meritt_thomas_u_hb93v6iwi_unsplash_jpg/meritt-thomas-u-Hb93V6IWI-unsplash.jpg"
                />
                <div class="infos">
                    <h4 class="activite_title" ng-if="!_.isEmpty(service.titre)">{{service.titre}}</h4>
                    <h4 class="activite_title" ng-if="_.isEmpty(service.titre)">Aucune titre</h4>
                    <h5
                        class="activite_desc"
                        ng-if="!_.isEmpty(service.description)"
                        ng-bind-html="service.description | unsafe"
                    />
                    <h5 class="activite_auteur" ng-if="!_.isEmpty(service.membre)">{{service.membre.full_name}}</h5>
                    <h5 class="activite_distance" ng-if="!_.isEmpty(service.distance)">{{service.distance}}</h5>
                </div>
            </a>
<!--            <div class="infos right">-->
            <div class="infos_right">
                <h5>{{service.diff_create_date}}</h5>
                <i
                    class="fa text-epsilon coeur"
                    ng-class="{'fa-heart': service.is_favorite, 'fa-heart-o': !service.is_favorite}"
                    style="font-size:1.5rem;"
                    ng-click="service_enable_favorite &amp;&amp; add_to_my_favorite('accorderie.' + type_service + '.service', service)"
                />
            </div>
        </div>
<!--        </div>-->
    </template>
</odoo>
